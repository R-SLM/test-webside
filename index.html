<!DOCTYPE html PUBLIC>
<!-- 代表公共标识符匹配的DTD(DOCTYPE)。没有public的代表H5的doctype声明，不采用DTD模式 -->
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Modus1</title>

	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="">

	<!-- Latest compiled and minified CSS <-->
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<!-- Fonts -->
	<!-- <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i" rel="stylesheet"> -->
	<link rel="stylesheet" type="text/css" href="css/slick.css">

	<link rel="stylesheet" type="text/css" href="css/style1.css">

</head>
<!-- 阻止默认图片拖拽行为 -->
<body ondragstart="return false">
	<br><!-- 解决锚点导航问题.... -->

	<!-- 导航栏 -->
	<header>
		<nav class="navbar my-navbar navbar-fixed-top">
			<div class="container">
				<div  class="navbar-header">
					<a href="#home" class="navbar-brand">
						<img src="img/logo.png">
					</a>
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">  <!-- collapsed 必须有d！！！ -->
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>	
					</button>
				</div>
				<div id="navbar" class="navbar-collapse collapse">
					<ul class="nav navbar-nav navbar-right">
						<li><a>HOME</a></li>
						<li><a>Portfolio</a></li>
						<li><a>services</a></li>
						<li><a>Clients</a></li>
						<li><a>Contact</a></li><!-- 锚点导航注意href -->
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<main>

		<!-- home页面 -->
		<section id="home">
			<div class="home-wrapcolor"></div>
			<div class="home-content">
				<div class="container">
					<div class="row">
						<div class="col-md-8 col-md-offset-2 test">
							<span class="h5" id="SPANT">Design / Development / Photography</span>
							<h2 class="h1 H2">Creativity have new level</h2>
							<div class="content-button">
								<a href="" class="btn btn-default btn-bg">Preview</a>
								<button href="" class="btn btn-primary btn-bg">Get theme</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<a id="down-icon" class="down-icon" href="#history">
				<img class="down-arrow" src="img/svg/down_icon.svg" alt="Down arrow">
			</a>
		</section>

		<!-- history页面 -->
		<div id="history">
			<div class="container">
				<div class="row">
					<div class="col-md-8 col-md-offset-2">
						<div class="history-content">
							<h2 class="history-title">LITTLE HISTORY</h2>
							<p>Vivamus suscipit tortor eget felis porttitor volutpat.Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. <br>
							Pellentesque in ipsum id orci porta dapibus. Proin eget tortor risus. Curabitur aliquet quam id dui posuere blandit.<br> 
							Donec rutrum congue leo eget malesuada. Vivamus suscipit tortor eget felis porttitor volutpat. <br>
							Vivamus suscipit tortor eget felis porttitor volutpat. Cras ultricies ligula sed magna dictum porta. <br>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit.
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- portfolio页面 -->
		<section id="portfolio">
			<div class="container">
				<div class="row">
					<div class="portfolio-gallary">
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="gallary-warp">
								<img src="img/portfolio/01.jpg">
								<div class="gallary-info">
									<span>Random artwork</span>
									<p>Vivamus suscipit tortor eget felis porttitorvolutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.Pellentesque in ipsum id orci.</p>
								</div>
							</div>
						</div>
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="gallary-warp">
								<img src="img/portfolio/02.jpg">
								<div class="gallary-info">
									<span>Random artwork</span>
									<p>Vivamus suscipit tortor eget felis porttitorvolutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.Pellentesque in ipsum id orci.</p>
								</div>
							</div>
						</div>
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="gallary-warp">
								<img src="img/portfolio/03.jpg">
								<div class="gallary-info">
									<span>Random artwork</span>
									<p>Vivamus suscipit tortor eget felis porttitorvolutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.Pellentesque in ipsum id orci.</p>
								</div>
							</div>
						</div>
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="gallary-warp">
								<img src="img/portfolio/04.jpg">
								<div class="gallary-info">
									<span>Random artwork</span>
									<p>Vivamus suscipit tortor eget felis porttitorvolutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.Pellentesque in ipsum id orci.</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- services页面 -->
		<section id="services">
			<div class="container">
				<div class="row">
					<div class="col-md-4">
						<div class="services-content">
							<figure>
								<img src="img/svg/services/deliver.svg">
								<div class="divider"></div>
								<figcaption>IDEA</figcaption>
							</figure>
							<p>Vivamus suscipit tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Pellentesque in ipsum id orci.</p>
						</div>
					</div>
					<div class="col-md-4">
						<div class="services-content">
							<figure>
								<img src="img/svg/services/idea.svg">
								<div class="divider"></div>
								<figcaption>WORK</figcaption>
							</figure>
							<p>Vivamus suscipit tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Pellentesque in ipsum id orci.</p>
						</div>
					</div>
					<div class="col-md-4">
						<div class="services-content">
							<figure>
								<img src="img/svg/services/work.svg">
								<div class="divider"></div>
								<figcaption>DELIVER</figcaption>
							</figure>
							<p>Vivamus suscipit tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Pellentesque in ipsum id orci.</p>
						</div>
					</div>
				</div>						
			</div>
		</section>

		<!-- clients页面 -->
		<section id="clients">
			<div class="container">
				<div class="row">
					<div class="col-md-8 col-md-offset-2">
						<div class="clients-content">
							<div class="clients-content-title">
								<h3>OUR CLIENTS ARE</h3>
							</div>
							<blockquote>
								<p>“Vivamus suscipit tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Pellentesque in ipsum id orci porta dapibus. Proin eget tortor risus. Curabitur aliquet quam id dui posuere blandit”</p>
								<footer>
									<cite>Mr. Lorem Ipsum</cite>
								</footer>
							</blockquote>
						</div>
					</div>
				</div>
				<div class="client-logo">
					<div class="row">
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="client-logo-item">
							<img src="img/svg/clients/john_doe_design.svg"></div>
						</div>
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="client-logo-item">
							<img src="img/svg/clients/john_stephenson.svg"></div>
						</div>
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="client-logo-item">
							<img src="img/svg/clients/stephenson_web_design.svg"></div>
						</div>
						<div class="col-md-3 col-sm-6 col-xs-12">
							<div class="client-logo-item">
							<img src="img/svg/clients/stephenson_william.svg"></div>
						</div>
					</div>
				</div>
			</div>
		</section>


		<section id="contact">
			<div class="container">
				<div class="row">
					<div class="col-md-6">
						<div class="about-us">
							<h3>ABOUT US</h3>
							<p>Vivamus suscipit tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Pellentesque in ipsum id orci porta dapibus. Proin eget tortor risus. Curabitur aliquet quam id dui posuere blandit. Donec rutrum congue leo eget malesuada. Vivamus suscipit tortor eget felis porttitor volutpat. Vivamus suscipit tortor eget felis.</p>
						</div>
					</div>
					<div class="col-md-6">
						<div class="contact-us">
							<h3>CONTACT US</h3>
							<form>
								<div class="form-group">
									<label>EMAIL</label>
									<input type="text" name="email-area" class="form-control">
								</div>
								<div class="form-group">
									<label>MESSAGE</label>
									<textarea class="form-control"></textarea>
								</div>
								<button type="submit" class="button-type btn btn-md  pull-right">send</button>

							</form>
						</div>
					</div>
				</div>
			</div>
		</section>
		<footer id="footer">
			<div class="container">
				<div class="row">
					<div class="col-md-6">
						<p>Copyright &copy; 2017.Company name All rights reserved. <a href="">网页模板</a></p>
					</div>
				</div>
			</div>
		</footer>

	<div id="slidPic">
		<div class="container-fluid">
			<div id="sliderWrap">
				<div class="slider-container">
					<figure class="project">
						<img class="img-responsive" src="img/portfolio/01.jpg" alt="Project Image">
					</figure>
					<figure class="project">
						<img class="img-responsive" src="img/portfolio/02.jpg" alt="Project Image">
					</figure>
					<figure class="project">
						<img class="img-responsive" src="img/portfolio/03.jpg" alt="Project Image">
					</figure>
					<figure class="project">
						<img class="img-responsive" src="img/portfolio/04.jpg" alt="Project Image">
					</figure>
					<figure class="project">
						<img class="img-responsive" src="img/portfolio/05.jpg" alt="Project Image">
					</figure>
					<figure class="project">
						<img class="img-responsive" src="img/portfolio/06.jpg" alt="Project Image">
					</figure>
				</div>
			</div>
		</div>
	</div>

	</main>

	<script src="js/jquery-3.2.1.min.js"></script>

	<!-- <script type="text/javascript" src="js/smooth-scroll.min.js"></script> -->

	<!-- <script type="text/javascript" src="js/modernizr.mq.js"></script> -->

	<!-- <script type="text/javascript" src="js/slick.min.js"></script> -->

	<!-- Latest compiled and minified JavaScript Bootstrap-->

	<script src="js/bootstrap.min.js"></script>

	<!-- Custom JS -->

	<!-- <script src="js/custom.js"></script> -->

<script type="text/javascript">
	window.onload = function(){

		var scrolltop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop; 
		var home = document.getElementById("home");
		var hometop = home.offsetTop;

		/*var spanH5 = document.querySelector('span.test');
		获取拥有class等于test的第一个span元素。而不是test下的第一个span。正确写法如下：*/

		var h2test = document.querySelector(".test H2");
		var spanH5 = document.querySelector(".test span");
		var nav = document.querySelector(".nav");
		var navLIArray = nav.getElementsByTagName("a");
	    /*alert(spanH5.innerHTML);*/
		/*console.log(spanH5.innerHTML);*/


	//方法一（失败且复杂，存在问题（定时器和延时器问题无法解决））

/*	 	var interval= setInterval(function(){
			var top= document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;

			var testwidth = document.querySelector(".test span").style.width;
			var testwidth = document.getElementById("SPANT").parentNode.offsetWidth;
			var SPANTwidth = document.getElementById("SPANT").offsetWidth;
			var newSPANTwidth = SPANTwidth/2;
			.parentNode.clientWidth;
			.parentNode.scrollWidth;
			var newtestwidth = (testwidth-30)/2;
			console.log(newtestwidth);
			无法获取宽度？？？style.width和offsetWidth的区别？？？
			offsetWidth属性可以返回对象的padding+border+width属性值之和，style.width返回值就是内嵌样式的width属性值。
			var tranlatewidth = newtestwidth-newSPANTwidth;
			在清除定时器的情况下。这种写法只能适应第一次打开的屏幕宽度，如果进行浏览器宽度拉伸改变，就不会显示在中间。。。去除清除定时器，会在满足滚动监听的条件时自动调整。

			if(top >= hometop){
				spanH5.classList.add("spantest");     newtestwidth+'px'写法不正确
				spanH5.style.visibility="visible";
				spanH5.style.transform="translateX(0%)";
				clearInterval(interval);
				setTimeout(function(){
					spanH5.style.transform="translateX(0px)";正确用法如下
					spanH5.style.transform="";
					spanH5.style.margin="0 auto";
				},1000)
			}
		},40);
	}
	*/

/*	
	document.addEventListener("scroll",function (){
			if( scrolltop >= hometop){
			spanH5.classList.add("spantest");
			}
		}, !1);*/

	
		//方法二（成功实现简单（定时器，有待优化））

	 // 	var interval= setInterval(function(){
		// 	var top= document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
		// 	if(top >= hometop){
		// 		spanH5.style.visibility="visible";
		// 		spanH5.style.transform="translateX(0%)";
		// 		h2test.style.visibility="visible";开头不能用大写
		// 		h2test.style.transform="translateX(0%)";
		// 		clearInterval(interval);
		// 	}
		// },40);


		// 上提到onload函数中，页面加载就执行
		spanH5.style.visibility = "visible";
		spanH5.style.transform = "translateX(0%)";
		h2test.style.visibility = "visible"; /*开头不能用大写*/
		h2test.style.transform = "translateX(0%)";



		//方法三（js的onscroll事件,最简单。下面添加导航栏滚动导航的功能）
	 document.onscroll=function () {
		var top = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;

		/*滚动到指定位置加载左右文字进入（css3+js控制结合）不合理，此处上提到onload函数中。
		if (top >= hometop) {
			spanH5.style.visibility = "visible";
			spanH5.style.transform = "translateX(0%)";
			h2test.style.visibility = "visible"; 
			// 上面开头不能用大写
			h2test.style.transform = "translateX(0%)";
		}*/

		// 滚动条滚动触发导航栏颜色转变
		// console.log(top);  在scroll方法里要滚动才触发
		var navHeight = document.querySelector(".navbar").offsetHeight;
		var navLIArray = nav.getElementsByTagName("a");
		var sectionArry = document.getElementsByTagName("section");
		for (i= 0;i<navLIArray.length;i++) {
			if (top + navHeight >= sectionArry[i].offsetTop) {
				for(j=0;j<navLIArray.length;j++){
					navLIArray[j].style.color = "";
				}
				navLIArray[i].style.color ="#00c7fc";
			}
		}
	 }
		// 点击导航栏滚动到相应位置
		for(i= 0;i<navLIArray.length;i++){
			var interval;
			var navHeight = document.querySelector(".navbar").offsetHeight;
			var sectionArry = document.getElementsByTagName("section");
			navLIArray[i].index = i;
			navLIArray[i].onclick = function(){
				var self = this;
				clearInterval(interval);
				interval = setInterval(function(){
					if(document.body.scrollTop + navHeight <= sectionArry[self.index].offsetTop){
						document.body.scrollTop += navHeight;
						if(document.body.scrollTop + navHeight >= sectionArry[self.index].offsetTop){
							document.body.scrollTop = sectionArry[self.index].offsetTop - navHeight;
							clearInterval(interval);
						}
					}
					else{
						document.body.scrollTop-=navHeight;
						if(document.body.scrollTop + navHeight <= sectionArry[self.index].offsetTop){
							document.body.scrollTop = sectionArry[self.index].offsetTop - navHeight;
							clearInterval(interval);
						}
					}
				}, 40);
			}
		};

	//点击触发拖动滚动图片
	var slidContent = document.querySelector(".slider-container");
	// console.log(slidContent);
	/*<!DOCTYPE html PUBLIC> 会影响document.documentElement.clientHeight，变成了整个页面的高度。*/
	// var clientWidth = document.body.clientWidth;
	var project = slidContent.querySelector(".project");
	var projectWidth = project.offsetWidth;
	// var contentWidth = slidContent.offsetWidth;
	var contentleft = - projectWidth;
	slidContent.style.left = contentleft;
	var drag = false;
	var mouseOffsetX = 0;
	var oldMouseX = 0;
	var newMouseX = 0;
	var moveX = 0;
	var timer;
	//有关变量定义：全局变量已定义，其他函数可以获取其他函数内部的这个全局变量的值（而不是全局变量定义的值0）

	//获取鼠标位置
	slidContent.addEventListener("mousedown",function(e){
		var e = e||window.event;
		// console.log(e);
		// var mouseclientX = e.clientX;
		mouseOffsetX = e.pageX - slidContent.offsetLeft;
		oldMouseX = e.pageX;
		// console.log(oldMouseX)
		// var mouseclientY = e.clientY;

		// console.log(mouseOffsetX);
		// console.log(mouseclientY);
		drag = true;
	});
	// 鼠标按下移动时图片包裹层跟随移动
	slidContent.onmousemove = function(e){
		var e = e||window.event;
		newMouseX = e.pageX;
		if(drag === true){
			moveX = newMouseX - mouseOffsetX;
			// console.log(moveX);
			slidContent.style.left = moveX;
		}

	}
	// 鼠标点击放开时停止拖拽
	slidContent.onmouseup = function(){
		drag = false;
		mouseMoveX = newMouseX - oldMouseX;
		console.log(mouseMoveX);
		console.log(projectWidth);
		if(mouseMoveX>projectWidth){
			clearInterval(timer);
			timer = setInterval(function(){
				console.log(parseInt(slidContent.style.left));
				if(parseInt(slidContent.style.left)<projectWidth){
					slidContent.style.left = Math.ceil(parseInt(slidContent.style.left) + 
					(projectWidth-parseInt(slidContent.style.left))/5);
					console.log(parseInt(slidContent.style.left));
				}
				else{
					if(parseInt(slidContent.style.left)==projectWidth){
						clearInterval(timer);
					}
				}
			},50);
		}
/*		else{
			if(mouseMoveX==projectWidth){
				clearInterval(timer);
			}
			else{
				clearInterval(timer);
				timer = setInterval(function(){
					console.log(parseInt(slidContent.style.left));
					if(parseInt(slidContent.style.left)<0){
						slidContent.style.left = Math.floor(parseInt(slidContent.style.left) - 
						(projectWidth-parseInt(slidContent.style.left))/5);
						console.log(parseInt(slidContent.style.left));
					}
					else{
						if(parseInt(slidContent.style.left)==-projectWidth){
							clearInterval(timer);
						}
					}
				},50);
			}
		}*/
	}
}

</script>

</body>
</html>